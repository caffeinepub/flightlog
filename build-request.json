{
  "kind": "build_request",
  "title": "Fix Flight Record Update and Delete Operations",
  "projectName": "FlightLog",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Fix the edit/update mutation for flight log entries so that submitting the EditFlightEntryModal successfully updates the record in the backend and reflects the change in the UI without errors.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Flight record please update and change and delete not working please work"
        ]
      },
      "acceptanceCriteria": [
        "Opening the edit modal for a flight entry pre-populates all fields correctly",
        "Submitting the edit form calls the backend update function with the correct entry ID and updated data",
        "After a successful update, the flight records table reflects the new values immediately",
        "No console errors or unhandled rejections occur during the edit flow"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Fix the delete operation for flight log entries so that confirming deletion in the FlightRecordsTable confirmation dialog successfully removes the record from the backend and updates the table.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Flight record please update and change and delete not working please work"
        ]
      },
      "acceptanceCriteria": [
        "Clicking the delete action on a flight entry opens the confirmation dialog",
        "Confirming deletion calls the backend delete function with the correct entry ID",
        "The deleted entry is removed from the flight records table immediately after confirmation",
        "No console errors or unhandled rejections occur during the delete flow"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Audit and fix the backend Motoko actor flight log entry update and delete functions to ensure they correctly identify entries by ID, apply changes, and return appropriate success/error responses.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Flight record please update and change and delete not working please work"
        ]
      },
      "acceptanceCriteria": [
        "The update flight entry function locates the correct entry by ID and persists all changed fields",
        "The delete flight entry function locates the correct entry by ID and removes it from stable storage",
        "Both functions return a clear error variant when the entry ID is not found",
        "Role-based access control is respected for both update and delete operations"
      ]
    }
  ],
  "constraints": [
    "Do not change the overall flight log data model or schema",
    "Do not modify files listed in frontend.immutablePaths"
  ],
  "nonGoals": [
    "Adding new flight record fields or form inputs",
    "Redesigning the FlightRecordsTable UI layout",
    "Changing authentication or user profile logic"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}